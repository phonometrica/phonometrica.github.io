


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Concordance &#8212; Phonometrica 0.4.0 documentation</title>
    <link rel="stylesheet" href="_static/yeen.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Scripting" href="scripting/index.html" />
    <link rel="prev" title="Getting started" href="intro/start.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="scripting/index.html" title="Scripting"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="intro/start.html" title="Getting started"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Phonometrica 0.4.0 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Concordance</a><ul>
<li><a class="reference internal" href="#simple-queries">Simple queries</a><ul>
<li><a class="reference internal" href="#the-files-box">The Files box</a></li>
<li><a class="reference internal" href="#the-search-box">The Search box</a></li>
<li><a class="reference internal" href="#metadata">Metadata</a></li>
<li><a class="reference internal" href="#viewing-results">Viewing results</a></li>
</ul>
</li>
<li><a class="reference internal" href="#complex-queries">Complex queries</a><ul>
<li><a class="reference internal" href="#building-a-complex-query">Building a complex query</a></li>
<li><a class="reference internal" href="#alignment-relation">Alignment relation</a></li>
<li><a class="reference internal" href="#precedence-relation">Precedence relation</a></li>
<li><a class="reference internal" href="#dominance-relation">Dominance relation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="intro/start.html"
                        title="previous chapter">Getting started</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="scripting/index.html"
                        title="next chapter">Scripting</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="concordance">
<h1>Concordance<a class="headerlink" href="#concordance" title="Permalink to this headline">¶</a></h1>
<p>Phonometrica offers a number of features to find concordances in a corpus. It
also allows user to customize its search interface by creating search
grammars specifically tailored for a project. Concordancing features are
available in the <code class="docutils literal notranslate"><span class="pre">Search</span></code> menu.</p>
<div class="section" id="simple-queries">
<h2>Simple queries<a class="headerlink" href="#simple-queries" title="Permalink to this headline">¶</a></h2>
<p>To run a new query, click on <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">&gt;</span> <span class="pre">New</span> <span class="pre">query...</span></code> or use
the shortcut <code class="docutils literal notranslate"><span class="pre">alt+Q</span></code>. This will open a new
search window, which lets you search through all the annotations in your corpus .</p>
<div class="section" id="the-files-box">
<h3>The Files box<a class="headerlink" href="#the-files-box" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Files</span></code> box in the top left corner allows you to select the type
of files to search in (documents or annotations). You can either select
files individually if you want to restrict your query to a particular
set of files, or leave all files unchecked, in which case Phonometrica will
try to search in all files.</p>
</div>
<div class="section" id="the-search-box">
<h3>The Search box<a class="headerlink" href="#the-search-box" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Search</span></code> box in the top right corner allows you to enter some text
or a regular expression to search for. Next to the search field, a spin
box lets you select the tier you want to search in. The default choice
is <code class="docutils literal notranslate"><span class="pre">Any</span> <span class="pre">tier</span></code>, which means that Phonometrica will try to find your pattern
in all tiers of the selected files. You can restrict the search to a
particular tier by selecting the appropriate tier number. Alternatively,
you can specify a <em>tier name pattern</em> using a regular expression. If you
do specify a tier name pattern, Phonometrica will ignore the tier number and
will search instead in any tier whose name matches the pattern.</p>
<p>By default, the text in the search field is interpreted as a regular
expression. If you are looking for plain text string instead, you can
select <code class="docutils literal notranslate"><span class="pre">plain</span> <span class="pre">text</span></code> instead of <code class="docutils literal notranslate"><span class="pre">regular</span> <span class="pre">expression</span></code> in the selector
located under the <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code> buttons. Whether you use a plain text
string or a regular expression, the search will be case-insensitive by
default, which means that strings like “foo”, “Foo” and “FOO” are
treated as identical. To perform a case sensitive search, simply check
the <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">sensitive</span></code> box.</p>
<p>Concordances in a simple query follow the KWIC model (key word in
context), which means that a match is extracted along with its left and
right context. (The length of the context window can be adjusted in the
preferences.) When the context window is longer than the context of the
match in a given item (time point or interval), Phonometrica will extract
additional text in the preceeding/following items until the left/right
contexts have the expected length. If it cannot find enough items, it
will pad the text with white space. By default, Phonometrica will use one
white space character to join the text from different intervals. You can
specify a different string (including an empty string) in the
<code class="docutils literal notranslate"><span class="pre">Separator</span></code> field.</p>
</div>
<div class="section" id="metadata">
<h3>Metadata<a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h3>
<p>If you have added properties to your project, a set of field boxes
will be added below the <code class="docutils literal notranslate"><span class="pre">Files</span></code> and <code class="docutils literal notranslate"><span class="pre">Search</span></code> box. Each field
category is displayed as a group box containing a list of all the labels
of this category. You can check or uncheck any label in any category
(each category also has an <code class="docutils literal notranslate"><span class="pre">All</span> <span class="pre">labels</span></code> button to check/uncheck all
labels at once). The search engine will filter files based on the
conditions that you specify in the field box. Within a category, it
uses the Boolean <code class="docutils literal notranslate"><span class="pre">OR</span></code> operator to find the subset of files that has
either label. Across categories, it uses the <code class="docutils literal notranslate"><span class="pre">AND</span></code> operator to find
the intersection of all the subsets defined by each category.</p>
<p>At the bottom of search window, an additional field lets you filter
files based on their description. For example, it is possible to extract
all the files that contain (or do not contain) a specific string.</p>
</div>
<div class="section" id="viewing-results">
<h3>Viewing results<a class="headerlink" href="#viewing-results" title="Permalink to this headline">¶</a></h3>
<p>Once you hit the <code class="docutils literal notranslate"><span class="pre">ok</span></code> button, the result of your query is presented as
a new <code class="docutils literal notranslate"><span class="pre">query</span> <span class="pre">view</span></code> in the viewer. You can browse the results with the
mouse wheel. The information panel on the right-hand side displays
information about the selected token.</p>
<p>If an annotation is bound to a sound file, you can play a match by
double-clicking on it or by pressing the space bar (you can also
interrupt it by pressing <code class="docutils literal notranslate"><span class="pre">Esc</span></code>).</p>
<p>Right-clicking on item will display a context menu that allows you to
perform a number of actions:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Play</span> <span class="pre">selection</span></code>: this will play the corresponding item if the
annotation is bound to a sound file.</li>
<li><code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">in</span> <span class="pre">annotation</span></code>: this will open the annotation in a new view,
along with its sound file if it is bound to a sound.</li>
<li><code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">selection</span> <span class="pre">in</span> <span class="pre">Praat</span></code>: if Praat is installed and configured to
work with Phonometrica, this will open the match in Praat. Phonometrica will open
the TextGrid (and the sound file if the annotation is bound) in Praat
and will display the current match. (Note that you need to have Praat
already running for this to work.)</li>
<li><code class="docutils literal notranslate"><span class="pre">Edit</span> <span class="pre">item</span> <span class="pre">text</span></code>: this allows you to modify the text of the item
where the match was found. (Note that the query view is currently not
updated to reflect this change.)</li>
<li><code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">table</span> <span class="pre">view</span></code>: this will convert the concordance set, along
with all its metadata, to a table that can be imported into a
spreadsheet program.</li>
<li><code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">results</span> <span class="pre">to</span> <span class="pre">tab-separated</span> <span class="pre">file</span> <span class="pre">(CSV)...</span></code>: this exports the
concordance set, along with all its metadata, to a CSV file that can
be imported into a spreadsheet program.</li>
<li><code class="docutils literal notranslate"><span class="pre">Bookmark</span> <span class="pre">search</span> <span class="pre">result</span></code>: this allows you to bookmark a matched
item. Bookmarks are displayed in the bookmark panel, which can
accessed by clicking on the star in the bottom left corner of the
main window.</li>
</ul>
</div>
</div>
<div class="section" id="complex-queries">
<h2>Complex queries<a class="headerlink" href="#complex-queries" title="Permalink to this headline">¶</a></h2>
<p>After performing a <a class="reference external" href="simple.md">simple queries</a> on a set of annotation
files, Phonometrica attempts to find a set of concordances in one item (point
or interval) at a time. While it is possible for an item to match a
given search pattern several times if several substrings match the
pattern, matches are nevertheless limited to a single item.</p>
<p>Sometimes, however, we might want to match text in several items
<em>simultaneously</em>. Such a query is called a <em>complex query</em> in Phonometrica.
There are 3 types of relations between items, detailed below: alignment,
precedence and dominance.</p>
<div class="section" id="building-a-complex-query">
<h3>Building a complex query<a class="headerlink" href="#building-a-complex-query" title="Permalink to this headline">¶</a></h3>
<p>When you open a search window, two small buttons with a <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code>
sign appear below the main the search field. These buttons allow you to
add and remove search items. Any query which has more than one search
item is a complex query.</p>
<p>When you add one or more search items, you will notice that each of them
(except the last one) is followed by a selector with 3 possible values:
<code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">aligned</span> <span class="pre">with</span></code>, <code class="docutils literal notranslate"><span class="pre">precedes</span></code> and <code class="docutils literal notranslate"><span class="pre">dominates</span></code>. They correspond to
the tier item relations <code class="docutils literal notranslate"><span class="pre">alignment</span></code>, <code class="docutils literal notranslate"><span class="pre">precedence</span></code> and <code class="docutils literal notranslate"><span class="pre">dominance</span></code>,
respectively.</p>
<p>Contrary to simple queries, complex queries do not use the KWIC model to
display results. Instead of displaying a matched string in its context,
it lets the user select a <code class="docutils literal notranslate"><span class="pre">display</span> <span class="pre">tier</span></code>, which appears at the top of
the search box. The text that is displayed is the concatenation of all
the items contain within the time interval defined by simultaneous
satisfaction of the constraints on each search item. Several examples
are given below.</p>
</div>
<div class="section" id="alignment-relation">
<h3>Alignment relation<a class="headerlink" href="#alignment-relation" title="Permalink to this headline">¶</a></h3>
<p>Two items are aligned if they are on different tiers and their left and
right boundaries coincide. Suppose that you have a word tier (tier 1),
where each word was segmented, and a part-of-speech (POS) tier (tier 2)
which is aligned with the word tier. To extract all the nouns in the
corpus, you could do the following:</p>
<ul class="simple">
<li>set <code class="docutils literal notranslate"><span class="pre">NOUN</span></code> as the search pattern for tier 1, and choose the
<code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">aligned</span> <span class="pre">with</span></code> value of the relation selector.</li>
<li>set <code class="docutils literal notranslate"><span class="pre">.+</span></code> as the search pattern for tier 2</li>
<li>set the display tier to tier 2</li>
</ul>
<p>Phonometrica will first look for all items whose text contains “NOUN” on tier
1, and will keep all those items which contain a non-empty label in an
item of tier 2 which is exactly aligned with a NOUN item on tier 1.
Phonometrica will then return a list of the text labels on tier 2 which match
the above criteria.</p>
<p>As another example, suppose you now want to extract all the adverbs that
end with <em>-ly</em>. You could do the following:</p>
<ul class="simple">
<li>set <code class="docutils literal notranslate"><span class="pre">ADV</span></code> as the search pattern for tier 1, and choose the
<code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">aligned</span> <span class="pre">with</span></code> value of the relation selector.</li>
<li>set <code class="docutils literal notranslate"><span class="pre">.+ly$</span></code> as the search pattern for tier 2</li>
<li>set the display tier to tier 2</li>
</ul>
<p>Assuming that tier 2 contains exactly one word per interval, this will
successfully extract all the adverbs on tier 2 that end with <em>-ly</em>.</p>
</div>
<div class="section" id="precedence-relation">
<h3>Precedence relation<a class="headerlink" href="#precedence-relation" title="Permalink to this headline">¶</a></h3>
<p>Two items are in a precedence relation if they immediately follow each
other. You can search for arbitrarily long sequences by chaining search
items on the same tier. When you specify a sequence, Phonometrica will
retrieve the text from the display tier that is included within the span
defined by the sequence.</p>
<p>Suppose that you have a word tier (tier 1) and a POS tier (tier 2), as
in the alignment examples. Instead of searching for a single word, you
might be interested in looking for word sequences. To find all the
<code class="docutils literal notranslate"><span class="pre">DET+NOUN</span></code> sequences, you could do the following:</p>
<ul class="simple">
<li>set <code class="docutils literal notranslate"><span class="pre">DET</span></code> as the search pattern for the first tier item in tier 1,
and choose the <code class="docutils literal notranslate"><span class="pre">precedes</span></code> value of the relation selector.</li>
<li>set <code class="docutils literal notranslate"><span class="pre">NOUN</span></code> as the search pattern for the second tier item, setting
the tier number to 1 to ensure you are looking in the same tier</li>
<li>set the display tier to tier 2</li>
</ul>
<p>Phonometrica will first look for all <code class="docutils literal notranslate"><span class="pre">DET</span></code> items on tier one, and will keep
only those that are followed by a <code class="docutils literal notranslate"><span class="pre">NOUN</span></code> item on the same tier. It
will then display the text that results from the concatenation of all
the items on tier 2 within the span determined by the beginning of the
<code class="docutils literal notranslate"><span class="pre">DET</span></code> item and by the end of <code class="docutils literal notranslate"><span class="pre">NOUN</span></code> item on tier 1.</p>
</div>
<div class="section" id="dominance-relation">
<h3>Dominance relation<a class="headerlink" href="#dominance-relation" title="Permalink to this headline">¶</a></h3>
<p>An item <code class="docutils literal notranslate"><span class="pre">a</span></code> dominates an item <code class="docutils literal notranslate"><span class="pre">b</span></code> if <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are on
different tier, the left boundary of <code class="docutils literal notranslate"><span class="pre">b</span></code> is greater or equal to that
of <code class="docutils literal notranslate"><span class="pre">a</span></code>, and the right boundary of <code class="docutils literal notranslate"><span class="pre">b</span></code> is lesser or equal to that of
<code class="docutils literal notranslate"><span class="pre">a</span></code>. Dominance relations typically encode hierarchical structures, for
instance <code class="docutils literal notranslate"><span class="pre">word</span> <span class="pre">&gt;</span> <span class="pre">syllable</span> <span class="pre">&gt;</span> <span class="pre">segment</span></code>.</p>
<p>Suppose you have 3 tiers in your file: the first one contains spans
which denote syllables, the second one contains syllabic constituents
(“syll”) (“Onset”, “Nucleus”, “Coda”) and the last one individual
segments (“p”, “a”, “t”…). In order to retrieve all syllables that end
in a coda, you could do the following:</p>
<ul class="simple">
<li>set <code class="docutils literal notranslate"><span class="pre">syll</span></code> as the search pattern for tier 1, and choose the
<code class="docutils literal notranslate"><span class="pre">dominates</span></code> value of the relation selector.</li>
<li>set <code class="docutils literal notranslate"><span class="pre">Coda</span></code> as the search pattern for tier 2</li>
<li>set the display tier to tier 3</li>
</ul>
<p>This query will first get all the items that have a <code class="docutils literal notranslate"><span class="pre">syll</span></code> label on
the first tier; then, for each of those, it will look for a label
<code class="docutils literal notranslate"><span class="pre">Coda</span></code> on tier 2 within the limits of the span on tier 1; for each
item which matches both conditions, it will display the concatenated
text of the items on tier 3 that are dominated by the matching item on
tier 1.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="scripting/index.html" title="Scripting"
             >next</a> |</li>
        <li class="right" >
          <a href="intro/start.html" title="Getting started"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Phonometrica 0.4.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Julien Eychenne &amp; Léa Courdès-Murphy.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
    

  </body>
</html>